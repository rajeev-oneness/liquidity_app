<ion-header>
  <ion-toolbar>
  <ion-buttons slot="start">
    <ion-back-button icon="arrow-back-outline" defaultHref=""></ion-back-button>
    </ion-buttons>
    <ion-title>{{shopDetails.name}}</ion-title>
  <ion-icon slot="end" class="search_item" name="search-outline"></ion-icon>
    <ion-icon slot="end" class="search_item" name="cart-outline"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div>
    <ion-segment scrollable="true" [(ngModel)]="currentSuperCategory">
      <ion-segment-button value="liquor" (click)="changeSuperCategory('liquor')">LIQUOR</ion-segment-button>
      <ion-segment-button value="food" (click)="changeSuperCategory('food')">FOOD</ion-segment-button>
      <ion-segment-button value="soft-beverage" (click)="changeSuperCategory('soft-beverage')">SOFT BEVERAGE</ion-segment-button>
      <ion-segment-button value="combo" (click)="changeSuperCategory('combo')">COMBO</ion-segment-button>
    </ion-segment>
  </div>

  <div>
    <ion-list *ngIf="currentSuperCategory == 'liquor'" class="segment_2">
      <div padding>
        <ion-segment [(ngModel)]="currentLiquorInfo">
          <ion-segment-button  *ngFor="let liquorSubCategory of liquorSubCategoryInfo" value="{{liquorSubCategory.name}}" (click)="getLiquorProductInfo(liquorSubCategory)">
          <img src="{{liquorSubCategory.image}}">
          <ion-button shape="round">{{liquorSubCategory.name}}</ion-button>
          </ion-segment-button>
        </ion-segment>
      </div>

      <div>
        <ion-list class="drink_items">
          <ion-item *ngFor="let product of liquorProductInfo">
          <ion-grid>
            <ion-row class="ion-align-items-center">
              <ion-col size="7">
                <div class="drink_content">
                  <h3>{{product.name}}</h3>
                  <ul>
                    <li>HIGH: <span class="price_hike d-block">₹ {{product.highest_price | number : '.2-2'}}<img src="assets/images/green-arrow.png"></span></li>
                    <li>LOW: <span class="price_down d-block">₹ {{product.lowest_price | number : '.2-2'}}<img src="assets/images/red-arrow.png"></span></li>
                    <li>NOW: <span class="price_now d-block">₹ {{product.current_price | number : '.2-2'}}</span></li>
                  </ul>
                </div>
              </ion-col>
              <ion-col size="5">
                <div class="quantity">
                  <div (click)="decreamentProductCounter(product,'liquor')">
                    <span class="plus">+</span>
                  </div>
                  <p>{{checkCurrentQuantityCount(product,'liquor')}}</p>
                  <div (click)="increamentProductCounter(product,'liquor')">
                    <span class="minus">-</span>
                  </div>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
          </ion-item>
        </ion-list>
      </div>
    </ion-list>

    <ion-list *ngIf="currentSuperCategory == 'food'" class="ion-no-padding">
        <div class="drink_items">
          <ion-item *ngFor="let foodProduct of foodProductInfo">
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col size="7" class="pl-0">
                  <div class="drink_content">
                    <h3 class="no-margin">{{foodProduct.name}}</h3>
                    <p class="net">₹ {{foodProduct.price | number : '.2-2'}}</p>
                    <ul>
                      <li>{{foodProduct.description}}</li>
                    </ul>
                  </div>
                </ion-col>
                <ion-col size="5">
                  <div class="quantity">
                    <div (click)="decreamentProductCounter(foodProduct,'food')">
                      <span class="plus" >+</span>
                    </div>
                    <p>{{checkCurrentQuantityCount(foodProduct,'food')}}</p>
                    <div (click)="increamentProductCounter(foodProduct,'food')">
                      <span class="minus">-</span>
                    </div>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
      </div>
    </ion-list>

    <ion-list *ngIf="currentSuperCategory == 'soft-beverage'" class="ion-no-padding">
        <div class="drink_items">
          <ion-item *ngFor="let softBeverage of softBeverageProductInfo">
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col size="7" class="pl-0">
                  <div class="drink_content">
                    <h3 class="no-margin">{{softBeverage.name}}</h3>
                    <p class="net">₹ {{softBeverage.price | number : '.2-2'}}</p>
                    <ul>
                      <li>{{softBeverage.description}}</li>
                    </ul>
                  </div>
                </ion-col>
                <ion-col size="5">
                  <div class="quantity">
                    <div (click)="decreamentProductCounter(softBeverage,'soft-beverage')">
                      <span class="plus">+</span>
                    </div>
                    <p>{{checkCurrentQuantityCount(softBeverage,'soft-beverage')}}</p>
                    <div (click)="increamentProductCounter(softBeverage,'soft-beverage')">
                      <span class="minus">-</span>
                    </div>
                  </div>
                  </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
      </div>
    </ion-list>

    <ion-list *ngIf="currentSuperCategory == 'combo'" class="ion-no-padding">
        <div class="drink_items">
          <ion-item *ngFor="let comboProduct of comboProductInfo">
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col size="7" class="pl-0">
                  <div class="drink_content">
                    <h3 class="no-margin">{{comboProduct.name}}</h3>
                    <p class="net">₹ {{comboProduct.price | number : '.2-2'}}</p>
                    <ul>
                      <li>{{comboProduct.description}}</li>
                    </ul>
                  </div>
                </ion-col>
                <ion-col size="5">
                  <div class="quantity">
                    <div (click)="decreamentProductCounter(comboProduct,'combo')">
                      <span class="plus">+</span>
                    </div>
                    <p>{{checkCurrentQuantityCount(comboProduct,'combo')}}</p>
                    <div (click)="increamentProductCounter(comboProduct,'combo')">
                      <span class="minus">-</span>
                    </div>
                  </div>
                  </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
      </div>
    </ion-list>
  </div>
</ion-content>

<div *ngIf="cartItem.cart.length > 0">
  <ion-footer class="ion-no-border">
    <div class="footer_content">
      <div class="footer_item_start">
        <img src="assets/images/cart.png">
        <div class="item_total">
          <p><small>{{cartItem.cart.length}} ITEM IN CART</small></p>
          <p class="price_end">₹ {{totalCartValue | number : '.2-2'}}</p>
          <p><small>plus taxes*</small></p>
        </div>
      </div>
      <div class="footer_item_end mw_230" (click)="switchToViewCart()">
        <p>View Cart</p>
        <img src="assets/images/arrow-right.png">
      </div>
    </div>
  </ion-footer>
</div>

