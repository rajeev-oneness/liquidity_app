<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button icon="arrow-back-outline" defaultHref="/outlethome"></ion-back-button>
		</ion-buttons>
	  <ion-title>Cart</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
  <div class="drink_items">
    <div *ngFor="let outletdata of uniqueOutletData">
      <div class="title_bar">
        <h2 class="title">{{outletdata.outletName}} <span class="rating_outlet_incart">{{outletdata.outletRating}} &#9733;</span></h2>
      </div>
      <ion-list>
        <ion-item *ngFor="let cartInfo of uniqueOutletItemFilter(outletdata);let i = index">
          <ion-grid>
            <ion-row class="ion-align-items-center">
              <ion-col size="6">
                <div class="drink_content">
                  <h3>{{cartInfo.itemName}}</h3>
                  <ul>
                    <li>Price: <span class="price_now d-block">₹ {{cartInfo.currentPrice | number : '.2-2'}}</span></li>
                    <li>{{cartInfo.subCategoryName}}</li>
                  </ul>
                </div>
              </ion-col>
              <ion-col size="3">
                <div class="quantity">
                  <div (click)="decreamentProductCounter(cartInfo,cartInfo.categoryType)">
                    <span class="plus">+</span>
                  </div>
                  <p>{{cartInfo.quantity}}</p>
                  <div (click)="increamentProductCounter(cartInfo,cartInfo.categoryType)">
                    <span class="minus">-</span>
                  </div>
                </div>
              </ion-col>
              <ion-col size="3">
                <div class="drink_content drink_content--mod">
                  <button (click)="removeProductItem(i,cartInfo)"><img src="assets/images/remove.png"></button>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-list>
    </div>
    <ion-item>
      <ion-grid>
        <ion-row class="ion-align-items-center">
          <ion-col size="7">
            <div class="drink_content">
              <h3 class="m-0">Subtotal</h3>
            </div>
          </ion-col>
          <ion-col size="5" class="ion-no-padding">
            <div class="drink_content">
              <h3 class="m-0 ion-text-right">₹ {{totalCartValue | number : '.2-2'}}</h3>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row class="ion-align-items-center">
          <ion-col size="7">
            <div class="drink_content">
              <h3 class="m-0">Grand Total</h3>
            </div>
          </ion-col>
          <ion-col size="5" class="ion-no-padding">
            <div class="drink_content">
              <h3 class="m-0 ion-text-right">₹ {{totalCartValue | number : '.2-2'}}</h3>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>

  <div class="title_bar">
    <h2 class="title">Using</h2>
  </div>
  <div class="select_form">
    <ion-grid>
      <ion-radio-group [(ngModel)]="bookingForm.paymentFrom" (ionChange)="paymentOptionChange($event)">
        <ion-row>
          <ion-col size="4">
            <ion-item>
              <ion-label>Wallet</ion-label>
              <ion-radio slot="start" value="wallet"></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item>
              <ion-label>Online Payment</ion-label>
              <ion-radio slot="start" value="online"></ion-radio>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-radio-group>
    </ion-grid>
  </div>

  <!-- <div>
    <h4 class="note-text">Your Wallet balance is low.Please use online payment to complete the transactions</h4>
  </div> -->

  <div class="title_bar">
    <h2 class="title">Booking for</h2>
  </div>
  <div class="select_form">
    <ion-grid>
      <ion-radio-group [(ngModel)]="bookingForm.bookingFor" (ionChange)="bookingForOptionChange($event)">
        <ion-row>
          <ion-col size="4">
            <ion-item>
              <ion-label>Myself</ion-label>
              <ion-radio slot="start" value="myself"></ion-radio>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item>
              <ion-label>Someone Else</ion-label>
              <ion-radio slot="start" value="someoneelse"></ion-radio>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-radio-group>
      <ion-row>
        <ion-col size="12">
           <ion-item class="circle">
            <ion-avatar slot="start">
              <img src="assets/images/call.png">
            </ion-avatar>
            <ion-label>+91</ion-label>
            <ion-input placeholder="mobile" [(ngModel)]="bookingForm.mobile" maxlength="10" (keypress)="isNumberKey($event)"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="12">
          <ion-item class="circle">
            <ion-avatar slot="start">
              <img src="assets/images/e-mail.png">
            </ion-avatar>
             <ion-input placeholder="youremail@email.com" [(ngModel)]="bookingForm.email" [email]="true"></ion-input>
           </ion-item>
        </ion-col>
        <ion-col size="6">
           <ion-item class="circle">
            <ion-avatar slot="start">
              <img src="assets/images/calender.png">
            </ion-avatar>
            <ion-datetime min="{{minDate}}" max="{{maxData}}" displayFormat="D MMM, YY" pickerFormat="YYYY MMM DD" [(ngModel)]="bookingForm.date"></ion-datetime>
           </ion-item>
        </ion-col>
        <ion-col size="6">
          <ion-item class="circle">
            <ion-avatar slot="start">
              <img src="assets/images/clock.png">
            </ion-avatar>
            <ion-datetime displayFormat="hh:mm A" [(ngModel)]="bookingForm.time"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<ion-footer class="ion-no-border">
  <div class="footer_content">
    <div class="footer_item_end mw_230" (click)="proceedToPay()">
      <p>Select Payment Method</p>
      <img src="assets/images/arrow-right.png">
    </div>
  </div>
</ion-footer>